(function(){"use strict";var e={965:function(e,t,n){var r=n(144),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"bg-image"}}),t("div",{attrs:{id:"content"}},[t("h1",[e._v("ARlebnispfade")]),t("button",{on:{click:e.activateXR}},[e._v("Start")])])])},o=[],a={name:"App",methods:{async activateXR(){const e=document.createElement("canvas");document.body.appendChild(e);const t=e.getContext("webgl",{xrCompatible:!0}),n=new THREE.Scene,r=new THREE.DirectionalLight(16777215,.3);r.position.set(10,15,10),n.add(r);const i=new THREE.WebGLRenderer({alpha:!0,preserveDrawingBuffer:!0,canvas:e,context:t});i.autoClear=!1;const o=new THREE.PerspectiveCamera;o.matrixAutoUpdate=!1;const a=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"]});a.updateRenderState({baseLayer:new XRWebGLLayer(a,t)});const s=await a.requestReferenceSpace("local"),c=await a.requestReferenceSpace("viewer"),u=await a.requestHitTestSource({space:c}),l=new THREE.GLTFLoader;let d,f;l.load("https://immersive-web.github.io/webxr-samples/media/gltf/reticle/reticle.gltf",(function(e){d=e.scene,d.visible=!1,n.add(d)})),l.load("/models/pin/pin.gltf",(function(e){f=e.scene,f.scale.set(10,10,10)})),a.addEventListener("select",(e=>{if(f){const e=f.clone();e.position.copy(d.position),n.add(e)}}));const p=(e,r)=>{a.requestAnimationFrame(p),t.bindFramebuffer(t.FRAMEBUFFER,a.renderState.baseLayer.framebuffer);const c=r.getViewerPose(s);if(c){const e=c.views[0];a.renderState.baseLayer.getViewport(e);i.setSize(Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)),o.matrix.fromArray(e.transform.matrix),o.projectionMatrix.fromArray(e.projectionMatrix),o.updateMatrixWorld(!0);const t=r.getHitTestResults(u);if(t.length>0&&d){const e=t[0].getPose(s);d.visible=!0,d.position.set(e.transform.position.x,e.transform.position.y,e.transform.position.z),d.updateMatrixWorld(!0)}i.render(n,o)}};a.requestAnimationFrame(p)}}},s=a,c=n(1),u=(0,c.Z)(s,i,o,!1,null,null,null),l=u.exports,d=n(139);r.ZP.config.productionTip=!1,r.ZP.use(d.Z),r.ZP.loadScript("https://unpkg.com/three@0.126.0/build/three.js").then((()=>{r.ZP.loadScript("https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js").then((()=>{r.ZP.loadScript("webxr-geospatial.js").then((()=>{new r.ZP({render:e=>e(l)}).$mount("#app")}))}))}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var l=c(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkarlebnispfade"]=self["webpackChunkarlebnispfade"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(965)}));r=n.O(r)})();
//# sourceMappingURL=app.141cb6e0.js.map